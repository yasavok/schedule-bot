# –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

## –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

```bash
# –ê–∫—Ç–∏–≤–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
source venv/bin/activate  # Linux/Mac
venv\Scripts\activate     # Windows

# –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
python bot.py
```

–í—ã–≤–æ–¥:
```
2024-02-27 12:00:00 - __main__ - INFO - –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω
2024-02-27 12:00:00 - handlers - INFO - –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2024-02-27 12:00:00 - scheduler - INFO - –ó–∞–ø—É—Å–∫ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è (–∏–Ω—Ç–µ—Ä–≤–∞–ª: 21600 —Å–µ–∫)
2024-02-27 12:00:00 - parser - INFO - –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è...
```

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä—Å–µ—Ä–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –ø–∞—Ä—Å–µ—Ä–∞ –±–µ–∑ –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞

```bash
python test_parser.py
```

–í—ã–≤–æ–¥:
```
==================================================
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä—Å–µ—Ä–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
==================================================

1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–∞–π—Ç–∞...
‚úÖ –°–∞–π—Ç –¥–æ—Å—Ç—É–ø–µ–Ω
   –†–∞–∑–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã: 15234 –±–∞–π—Ç

2. –ü–∞—Ä—Å–∏–Ω–≥ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π...
‚úÖ –ù–∞–π–¥–µ–Ω–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π: 3
   1. https://lsxt.my1.ru/images/schedule_2024.jpg
   2. https://lsxt.my1.ru/images/schedule_old.jpg
   3. https://lsxt.my1.ru/images/banner.jpg

3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π...
‚úÖ –ù–∞–π–¥–µ–Ω–æ –Ω–æ–≤–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ!
   –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –≤: schedules/schedule_20240227_120000.jpg

4. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ—Å–ª–µ–¥–Ω–µ–º —Ö—ç—à–µ...
   –ü–æ—Å–ª–µ–¥–Ω–∏–π —Ö—ç—à: a1b2c3d4e5f6g7h8i9j0

==================================================
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ
==================================================
```

---

## –†—É—á–Ω–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞

### –û—Ç–ø—Ä–∞–≤–∫–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –≤—Å–µ–º –ø–æ–¥–ø–∏—Å—á–∏–∫–∞–º

```bash
python manual_send.py schedules/schedule_20240227_120000.jpg
```

–í—ã–≤–æ–¥:
```
============================================================
–†—É—á–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –ø–æ–¥–ø–∏—Å—á–∏–∫–∞–º
============================================================

üìä –ù–∞–π–¥–µ–Ω–æ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤: 25
üì∏ –§–∞–π–ª –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏: schedules/schedule_20240227_120000.jpg

‚ö†Ô∏è  –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º? (yes/no): yes

üöÄ –ù–∞—á–∏–Ω–∞–µ–º —Ä–∞—Å—Å—ã–ª–∫—É...
‚úÖ –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é 123456789
‚úÖ –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é 987654321
‚úÖ –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é 555555555
...

üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞—Å—Å—ã–ª–∫–∏:
   ‚úÖ –£—Å–ø–µ—à–Ω–æ: 23
   ‚ùå –û—à–∏–±–æ–∫: 2
```

### –û—Ç–ø—Ä–∞–≤–∫–∞ —Å –∫–∞—Å—Ç–æ–º–Ω–æ–π –ø–æ–¥–ø–∏—Å—å—é

```bash
python manual_send.py schedules/schedule.jpg "üìÖ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é –Ω–µ–¥–µ–ª—é!"
```

---

## –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

### –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤

```bash
sqlite3 database.db "SELECT * FROM users;"
```

–í—ã–≤–æ–¥:
```
123456789|john_doe|John|2024-02-27 10:30:00
987654321|jane_smith|Jane|2024-02-27 11:15:00
555555555|bob_jones|Bob|2024-02-27 12:00:00
```

### –ü–æ–¥—Å—á–µ—Ç –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤

```bash
sqlite3 database.db "SELECT COUNT(*) FROM users;"
```

–í—ã–≤–æ–¥:
```
25
```

### –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```bash
sqlite3 database.db "DELETE FROM users WHERE user_id = 123456789;"
```

### –≠–∫—Å–ø–æ—Ä—Ç –±–∞–∑—ã –≤ CSV

```bash
sqlite3 -header -csv database.db "SELECT * FROM users;" > users_backup.csv
```

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏

–û—Ç–∫—Ä–æ–π—Ç–µ `config.py`:

```python
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–π —á–∞—Å
CHECK_INTERVAL = 3600

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
CHECK_INTERVAL = 1800

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑ –≤ –¥–µ–Ω—å
CHECK_INTERVAL = 86400
```

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ URL —Å–∞–π—Ç–∞

```python
COLLEGE_URL = "https://your-college-site.ru/schedule/"
```

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø—É—Ç–∏ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

```python
DATABASE_PATH = "data/users.db"
```

---

## –ü—Ä–∏–º–µ—Ä—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –±–æ—Ç–æ–º

### –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:** `/start`

**–ë–æ—Ç:**
```
üëã –ü—Ä–∏–≤–µ—Ç, –ò–≤–∞–Ω!

–Ø –±–æ—Ç –¥–ª—è —Ä–∞—Å—Å—ã–ª–∫–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –õ—É–∫–æ—è–Ω–æ–≤—Å–∫–æ–≥–æ –ì—É–±–µ—Ä–Ω—Å–∫–æ–≥–æ –∫–æ–ª–ª–µ–¥–∂–∞.

üîî –Ø –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è—é —Å–∞–π—Ç –∫–æ–ª–ª–µ–¥–∂–∞ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é –Ω–æ–≤–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ 
–≤—Å–µ–º –ø–æ–¥–ø–∏—Å—á–∏–∫–∞–º, –∫–∞–∫ —Ç–æ–ª—å–∫–æ –æ–Ω–æ –ø–æ—è–≤–ª—è–µ—Ç—Å—è.

‚ùå –í—ã –ø–æ–∫–∞ –Ω–µ –ø–æ–¥–ø–∏—Å–∞–Ω—ã.

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ –Ω–∏–∂–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–æ–π.
```

[–ö–Ω–æ–ø–∫–∏: ‚úÖ –ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è | ‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è | üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞]

---

### –ü–æ–¥–ø–∏—Å–∫–∞

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:** –ù–∞–∂–∏–º–∞–µ—Ç "‚úÖ –ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è"

**–ë–æ—Ç:**
```
üéâ –û—Ç–ª–∏—á–Ω–æ! –í—ã –ø–æ–¥–ø–∏—Å–∞–ª–∏—Å—å –Ω–∞ —Ä–∞—Å—Å—ã–ª–∫—É —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.
–¢–µ–ø–µ—Ä—å –≤—ã –±—É–¥–µ—Ç–µ –ø–æ–ª—É—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤–æ–º —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!
```

[–ö–Ω–æ–ø–∫–∏: ‚ùå –û—Ç–ø–∏—Å–∞—Ç—å—Å—è | ‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è | üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞]

---

### –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:** `/info`

**–ë–æ—Ç:**
```
‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–æ—Ç–µ:

ü§ñ –Ø –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è—é —Å–∞–π—Ç –∫–æ–ª–ª–µ–¥–∂–∞ –∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤
üì∏ –ö–æ–≥–¥–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–æ–≤–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ, —è –æ—Ç–ø—Ä–∞–≤–ª—è—é –µ–≥–æ –≤—Å–µ–º –ø–æ–¥–ø–∏—Å—á–∏–∫–∞–º
üîî –í—ã –ø–æ–ª—É—á–∏—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

üìå –°–∞–π—Ç –∫–æ–ª–ª–µ–¥–∂–∞: https://lsxt.my1.ru/blog/

–ö–æ–º–∞–Ω–¥—ã:
/start - –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
/subscribe - –ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ —Ä–∞—Å—Å—ã–ª–∫—É
/unsubscribe - –û—Ç–ø–∏—Å–∞—Ç—å—Å—è –æ—Ç —Ä–∞—Å—Å—ã–ª–∫–∏
/info - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–æ—Ç–µ
/stats - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–æ—Ç–∞
```

---

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:** `/stats`

**–ë–æ—Ç:**
```
üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–æ—Ç–∞:

üë• –í—Å–µ–≥–æ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤: 25
üîÑ –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π: –∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤
```

---

### –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è

**–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç:**
```
üìÖ –ù–æ–≤–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ!

–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å —Å–∞–π—Ç–∞ –∫–æ–ª–ª–µ–¥–∂–∞.
```
[–ü—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–Ω–æ–µ —Ñ–æ—Ç–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è]

---

### –û—Ç–ø–∏—Å–∫–∞

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:** `/unsubscribe`

**–ë–æ—Ç:**
```
üò¢ –í—ã –æ—Ç–ø–∏—Å–∞–ª–∏—Å—å –æ—Ç —Ä–∞—Å—Å—ã–ª–∫–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.
–ß—Ç–æ–±—ã —Å–Ω–æ–≤–∞ –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è, –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É '–ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è'.
```

[–ö–Ω–æ–ø–∫–∏: ‚úÖ –ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è | ‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è | üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞]

---

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

```bash
# Linux/Mac
tail -f bot.log

# Windows PowerShell
Get-Content bot.log -Wait -Tail 50
```

### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ª–æ–≥–æ–≤ –ø–æ —É—Ä–æ–≤–Ω—é

```bash
# –¢–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏
grep "ERROR" bot.log

# –¢–æ–ª—å–∫–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –∏ –æ—à–∏–±–∫–∏
grep -E "WARNING|ERROR" bot.log
```

### –ü—Ä–∏–º–µ—Ä –ª–æ–≥–æ–≤

```
2024-02-27 12:00:00 - __main__ - INFO - –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω
2024-02-27 12:00:05 - handlers - INFO - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å 123456789 (john_doe) –∑–∞–ø—É—Å—Ç–∏–ª –±–æ—Ç–∞
2024-02-27 12:00:10 - database - INFO - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å 123456789 –¥–æ–±–∞–≤–ª–µ–Ω –≤ –ë–î
2024-02-27 12:00:15 - handlers - INFO - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å 123456789 –ø–æ–¥–ø–∏—Å–∞–ª—Å—è
2024-02-27 18:00:00 - scheduler - INFO - –ó–∞–ø—É—Å–∫ –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
2024-02-27 18:00:05 - parser - INFO - –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è...
2024-02-27 18:00:10 - parser - INFO - –ù–∞–π–¥–µ–Ω–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ: https://lsxt.my1.ru/images/schedule.jpg
2024-02-27 18:00:15 - parser - INFO - –û–±–Ω–∞—Ä—É–∂–µ–Ω–æ –Ω–æ–≤–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ!
2024-02-27 18:00:20 - scheduler - INFO - –ù–∞—á–∏–Ω–∞–µ–º —Ä–∞—Å—Å—ã–ª–∫—É —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è 25 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
2024-02-27 18:00:25 - scheduler - INFO - –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é 123456789
2024-02-27 18:00:30 - scheduler - INFO - –†–∞—Å—Å—ã–ª–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞. –£—Å–ø–µ—à–Ω–æ: 23, –û—à–∏–±–æ–∫: 0, –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∏: 2
```

---

## –ó–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ

### Linux (systemd)

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `/etc/systemd/system/schedule-bot.service`:

```ini
[Unit]
Description=Schedule Telegram Bot
After=network.target

[Service]
Type=simple
User=username
WorkingDirectory=/home/username/schedule-bot
ExecStart=/home/username/schedule-bot/venv/bin/python bot.py
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
```

–ö–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

```bash
# –ó–∞–ø—É—Å–∫
sudo systemctl start schedule-bot

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
sudo systemctl stop schedule-bot

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
sudo systemctl restart schedule-bot

# –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
sudo systemctl enable schedule-bot

# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç—É—Å–∞
sudo systemctl status schedule-bot

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
sudo journalctl -u schedule-bot -f
```

---

### Linux (screen)

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Å–µ—Å—Å–∏–∏
screen -S schedule-bot

# –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
python bot.py

# –û—Ç—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –æ—Ç —Å–µ—Å—Å–∏–∏ (Ctrl+A, –∑–∞—Ç–µ–º D)

# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Å—Å–∏–∏
screen -r schedule-bot

# –°–ø–∏—Å–æ–∫ —Å–µ—Å—Å–∏–π
screen -ls

# –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏
screen -X -S schedule-bot quit
```

---

### Linux (tmux)

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Å–µ—Å—Å–∏–∏
tmux new -s schedule-bot

# –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
python bot.py

# –û—Ç—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –æ—Ç —Å–µ—Å—Å–∏–∏ (Ctrl+B, –∑–∞—Ç–µ–º D)

# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Å—Å–∏–∏
tmux attach -t schedule-bot

# –°–ø–∏—Å–æ–∫ —Å–µ—Å—Å–∏–π
tmux ls

# –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏
tmux kill-session -t schedule-bot
```

---

## –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏

```bash
# Linux/Mac
tar -czf backup_$(date +%Y%m%d_%H%M%S).tar.gz database.db .env schedules/ last_schedule_hash.txt

# Windows (PowerShell)
$date = Get-Date -Format "yyyyMMdd_HHmmss"
Compress-Archive -Path database.db,.env,schedules,last_schedule_hash.txt -DestinationPath "backup_$date.zip"
```

### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏

```bash
# Linux/Mac
tar -xzf backup_20240227_120000.tar.gz

# Windows (PowerShell)
Expand-Archive -Path backup_20240227_120000.zip -DestinationPath .
```

---

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞
ps aux | grep bot.py

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –ª–æ–≥–æ–≤
tail -20 bot.log

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤
sqlite3 database.db "SELECT COUNT(*) FROM users;"
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ (cron)

–î–æ–±–∞–≤—å—Ç–µ –≤ crontab:

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
*/5 * * * * /path/to/check_bot.sh
```

–§–∞–π–ª `check_bot.sh`:

```bash
#!/bin/bash
if ! pgrep -f "python bot.py" > /dev/null; then
    echo "Bot is down, restarting..."
    cd /path/to/bot
    source venv/bin/activate
    nohup python bot.py &
fi
```

---

## –û—Ç–ª–∞–¥–∫–∞

### –í–∫–ª—é—á–µ–Ω–∏–µ debug –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

–í `bot.py` –∏–∑–º–µ–Ω–∏—Ç–µ:

```python
logging.basicConfig(
    level=logging.DEBUG,  # –ë—ã–ª–æ: logging.INFO
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',
    handlers=[
        logging.FileHandler('bot.log', encoding='utf-8'),
        logging.StreamHandler()
    ]
)
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –∫–æ—Ä–æ—Ç–∫–∏–º –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º

–í `config.py`:

```python
CHECK_INTERVAL = 60  # 1 –º–∏–Ω—É—Ç–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
```

**–ù–µ –∑–∞–±—É–¥—å—Ç–µ –≤–µ—Ä–Ω—É—Ç—å –æ–±—Ä–∞—Ç–Ω–æ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞!**

---

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–∞–∑–º–µ—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
du -h database.db

# –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–π (—Å—Ç–∞—Ä—à–µ 30 –¥–Ω–µ–π)
find schedules/ -name "*.jpg" -mtime +30 -delete

# –ü–æ–¥—Å—á–µ—Ç —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞
find . -name "*.py" -exec wc -l {} + | tail -1

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ Python
python -m py_compile bot.py

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install --upgrade -r requirements.txt
```
